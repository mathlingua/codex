(this["webpackJsonpmathlingua-client"]=this["webpackJsonpmathlingua-client"]||[]).push([[0],{10:function(e,t,n){e.exports={triangle:"PathTreeItem_triangle__1r7e7",link:"PathTreeItem_link__2zHfD",sidePanelItem:"PathTreeItem_sidePanelItem__1A12M",mathlinguaListDirItem:"PathTreeItem_mathlinguaListDirItem__3BEwG",mathlinguaListFileItem:"PathTreeItem_mathlinguaListFileItem__1JNHt",selected:"PathTreeItem_selected__r_5l2",errorStats:"PathTreeItem_errorStats__1EFpQ",button:"PathTreeItem_button__1hcH-",input:"PathTreeItem_input__1EXXq"}},128:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(33),c=n.n(i),s=(n(81),n(18)),o=n(20),u=n(37),l=n(36),d=n(45),h=n.n(d),p=n(2),f=n.n(p),m=n(3),b=n(6),v=n(67),j=n.n(v),x=n(46),O=n(44),g=(n(96),n(11)),w=n(12),y=n.n(w),k=function e(t){Object(s.a)(this,e),this.isWord=void 0,this.children=void 0,this.isWord=t,this.children=new Map},_=function(){function e(){Object(s.a)(this,e),this.root=new k(!1)}return Object(o.a)(e,[{key:"add",value:function(e){this.addToTrie(this.root,e.toLowerCase(),0)}},{key:"getSuffixes",value:function(e){return this.searchTrie(this.root,e.toLowerCase())}},{key:"addToTrie",value:function(e,t,n){if(!(n>=t.length)){var a=t[n];e.children.has(a)||e.children.set(a,{isWord:n===t.length-1,children:new Map});var r=e.children.get(a);n===t.length-1&&(r.isWord=!0),this.addToTrie(r,t,n+1)}}},{key:"searchTrie",value:function(e,t){var n=this.findTrieLeaf(e,t,0);if(!n)return[];var a=new Set;return this.getWordsUnder("","",n,a),Array.from(a)}},{key:"findTrieLeaf",value:function(e,t,n){if(n>=t.length)return e;var a=t[n];return e.children.has(a)?this.findTrieLeaf(e.children.get(a),t,n+1):null}},{key:"getWordsUnder",value:function(e,t,n,a){if(n){e+=t,n.isWord&&a.add(e);var r,i=Object(g.a)(n.children.keys());try{for(i.s();!(r=i.n()).done;){var c=r.value;this.getWordsUnder(e,c,n.children.get(c),a)}}catch(s){i.e(s)}finally{i.f()}e=e.substring(0,e.length-1)}}}]),e}(),P=function(){function e(t){Object(s.a)(this,e),this.searchIndex=new Map;var n,a=Object(g.a)(t.collectionResult.fileResults);try{for(a.s();!(n=a.n()).done;){var r,i=n.value,c=Object(g.a)(i.entities);try{for(c.s();!(r=c.n()).done;){var o,u=r.value,l=Object(g.a)(u.words);try{for(l.s();!(o=l.n()).done;){var d,h=o.value.toLowerCase(),p=null!==(d=this.searchIndex.get(h))&&void 0!==d?d:new Set;p.add(i.relativePath),this.searchIndex.set(h,p)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){c.e(f)}finally{c.f()}}}catch(f){a.e(f)}finally{a.f()}}return Object(o.a)(e,[{key:"search",value:function(e){var t,n=e.split(" ").map((function(e){return e.trim().toLowerCase()})).filter((function(e){return e.length>0}));if(0===n.length)return[];var a=null!==(t=this.searchIndex.get(n[0]))&&void 0!==t?t:new Set;if(0===a.size)return[];for(var r=1;r<n.length;r++){var i;a=C(a,null!==(i=this.searchIndex.get(n[r]))&&void 0!==i?i:new Set)}return Array.from(a)}}]),e}();function C(e,t){if(t.size>e.size)return C(t,e);for(var n=new Set,a=0,r=Array.from(e.values());a<r.length;a++){var i=r[a];t.has(i)&&n.add(i)}return n}var N=function(){function e(){Object(s.a)(this,e)}return Object(o.a)(e,[{key:"getAllPaths",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/allPaths");case 2:return t=e.sent,e.abrupt("return",t.data.paths);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getFileResult",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/fileResult",{params:{path:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/search",{params:{query:t}});case 2:return n=e.sent,e.abrupt("return",n.data.paths);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutocompleteSuffixes",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/completeWord",{params:{word:t}});case 2:return n=e.sent,e.abrupt("return",n.data.suffixes);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntityWithSignature",value:function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/withSignature",{params:{signature:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/check");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),E=function(){function e(t){Object(s.a)(this,e),this.searchClient=void 0,this.autoCompleteClient=void 0,this.allPaths=void 0,this.signatureToEntity=void 0,this.homeHtml=void 0,this.pathToFileResult=void 0,this.checkResponse=void 0,this.searchClient=new P(t),this.autoCompleteClient=new _;var n,a=Object(g.a)(t.collectionResult.fileResults);try{for(a.s();!(n=a.n()).done;){var r,i=n.value,c=Object(g.a)(i.entities);try{for(c.s();!(r=c.n()).done;){var o,u=r.value,l=Object(g.a)(u.words);try{for(l.s();!(o=l.n()).done;){var d=o.value;this.autoCompleteClient.add(d)}}catch(w){l.e(w)}finally{l.f()}}}catch(w){c.e(w)}finally{c.f()}}}catch(w){a.e(w)}finally{a.f()}this.allPaths=t.collectionResult.fileResults.map((function(e){return e.relativePath})),this.signatureToEntity=new Map;var h,p=Object(g.a)(t.collectionResult.fileResults);try{for(p.s();!(h=p.n()).done;){var f,m=h.value,b=Object(g.a)(m.entities);try{for(b.s();!(f=b.n()).done;){var v=f.value;this.signatureToEntity.set(v.signature,v)}}catch(w){b.e(w)}finally{b.f()}}}catch(w){p.e(w)}finally{p.f()}this.homeHtml=t.homeHtml,this.pathToFileResult=new Map;var j,x=Object(g.a)(t.collectionResult.fileResults);try{for(x.s();!(j=x.n()).done;){var O=j.value;this.pathToFileResult.set(O.relativePath,O)}}catch(w){x.e(w)}finally{x.f()}this.checkResponse={errors:t.collectionResult.errors.map((function(e){return{column:e.column,row:e.row,path:e.relativePath,message:e.message}}))}}return Object(o.a)(e,[{key:"getAllPaths",value:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.allPaths);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFileResult",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pathToFileResult.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.searchClient.search(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAutocompleteSuffixes",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.autoCompleteClient.getSuffixes(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getEntityWithSignature",value:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signatureToEntity.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"check",value:function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.checkResponse);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=null;function T(){if(!S){var e=window.MATHLINGUA_DATA;S=e?new E(e):new N}return S}function I(){return!!window.MATHLINGUA_DATA}function D(){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().getAllPaths());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().getFileResult(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return B.apply(this,arguments)}function B(){return(B=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().search(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return H.apply(this,arguments)}function H(){return(H=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().getAutocompleteSuffixes(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().getEntityWithSignature(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return W.apply(this,arguments)}function W(){return(W=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T().check());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/writePage",{path:t,content:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return J.apply(this,arguments)}function J(){return(J=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/deleteDir",{path:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/deleteFile",{path:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/renameDir",{fromPath:t,toPath:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(m.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/renameFile",{fromPath:t,toPath:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/newDir",{path:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return re.apply(this,arguments)}function re(){return(re=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("/api/newFile",{path:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/completeSignature",{params:{prefix:t}});case 2:return n=e.sent,e.abrupt("return",n.data.suffixes);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(22),oe=n(0);function ue(e){var t=document.getElementById(e);t&&("mathlingua-dropdown-menu-hidden"===t.className?t.className="mathlingua-dropdown-menu-shown":t.className="mathlingua-dropdown-menu-hidden")}var le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).ref=void 0,a.ref=r.a.createRef(),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){pe(this.ref.current)}},{key:"componentDidUpdate",value:function(){pe(this.ref.current)}},{key:"render",value:function(){var e=this;function t(e,t){return n.apply(this,arguments)}function n(){return(n=Object(m.a)(f.a.mark((function t(n,a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ue(a),t.next=3,$(n);case 3:(r=t.sent)&&e.props.onViewEntity&&e.props.onViewEntity(r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return(a=Object(m.a)(f.a.mark((function e(n,a){var r,i,c,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mathlinguaToggleDropdown"!==n){e.next=8;break}if(r=a[0]){e.next=4;break}return e.abrupt("return");case 4:ue(r.substring(1,r.length-1)),e.next=16;break;case 8:if("mathlinguaViewSignature"!==n){e.next=16;break}if(i=a[0],c=a[1],i&&c){e.next=13;break}return e.abrupt("return");case 13:s=i.substring(1,i.length-1).replace(/\\\\/,"\\"),o=c.substring(1,c.length-1),t(s,o);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var r={replace:function(e){if(e instanceof O.Element&&e.attribs&&e.attribs.onclick){var t=e.attribs.onclick;delete e.attribs.onclick;var n=e.attribs.class;delete e.attribs.class;var i=/([a-zA-Z0-9]+)\((.*?)\)/.exec(t.trim());if(i&&3===i.length){var c=i[1],s=i[2].split(",").map((function(e){return e.trim()}));return Object(oe.jsx)("span",{className:n,onClick:function(){return function(e,t){return a.apply(this,arguments)}(c,s)},children:Object(x.b)(e.children,r)})}}}};return Object(oe.jsx)("div",{ref:this.ref,children:Object(x.a)(this.props.html,r)})}}]),n}(r.a.Component),de=Object(se.b)()(le);function he(e){var t=e;'"'===t[0]&&(t=t.substring(1)),'"'===t[t.length-1]&&(t=t.substring(0,t.length-1)),t=t.replace(/([a-zA-Z0-9])\?\??/g,"$1");for(var n=document.createDocumentFragment(),a="",r=0;r<t.length;)if("$"===t[r]&&"$"===t[r+1]&&"$"===t[r+2]){r+=3,n.appendChild(document.createTextNode(a)),a="";for(var i=document.createElement("span"),c="";r<t.length&&("$"!==t[r]||"$"!==t[r+1]||"$"!==t[r+2]);)c+=t[r++];"$"===t[r]&&r++,"$"===t[r]&&r++,"$"===t[r]&&r++;try{katex.render(c,i,{throwOnError:!0,displayMode:!1})}catch(m){i.appendChild(document.createTextNode(c))}n.appendChild(i)}else if("\\"===t[r]&&"["===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";var s=document.createElement("span");s.className="display-mode";for(var o="";r<t.length&&("\\"!==t[r]||"]"!==t[r+1]);)o+=t[r++];"\\"===t[r]&&r++,"]"===t[r]&&r++;try{katex.render(o,s,{throwOnError:!0,displayMode:!0})}catch(b){s.appendChild(document.createTextNode(o))}n.appendChild(s)}else if("\\"===t[r]&&"("===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";for(var u=document.createElement("span"),l="";r<t.length&&("\\"!==t[r]||")"!==t[r+1]);)l+=t[r++];"\\"===t[r]&&r++,")"===t[r]&&r++;try{katex.render(l,u,{throwOnError:!0,displayMode:!1})}catch(v){u.appendChild(document.createTextNode(l))}n.appendChild(u)}else if("$"===t[r]&&"$"===t[r+1]){r+=2,n.appendChild(document.createTextNode(a)),a="";var d=document.createElement("span");d.className="display-mode";for(var h="";r<t.length&&("$"!==t[r]||"$"!==t[r+1]);)h+=t[r++];"$"===t[r]&&r++,"$"===t[r]&&r++;try{katex.render(h,d,{throwOnError:!0,displayMode:!0})}catch(j){d.appendChild(document.createTextNode(h))}n.appendChild(d)}else if("$"===t[r]){r++,n.appendChild(document.createTextNode(a)),a="";for(var p=document.createElement("span"),f="";r<t.length&&"$"!==t[r];)f+=t[r++];"$"===t[r]&&r++;try{katex.render(f,p,{throwOnError:!0,displayMode:!1})}catch(x){p.appendChild(document.createTextNode(f))}n.appendChild(p)}else a+=t[r++];return a.length>0&&n.appendChild(document.createTextNode(a)),n}function pe(e){if(!(e.className&&e.className.indexOf&&e.className.indexOf("no-render")>=0)){var t=!1;if("mathlingua"===e.className)for(var n=0;n<e.childNodes.length;n++){var a=e.childNodes[n];if(a&&"mathlingua-header"===a.className&&"written:"===a.textContent){t=!0;break}}for(var r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];if(3===i.nodeType){var c=i.textContent;if(c.trim()){t&&('"'===c[0]&&(c=c.substring(1)),'"'===c[c.length-1]&&(c=c.substring(0,c.length-1)),c="$$$"+c+"$$$");var s=he(c);r+=s.childNodes.length-1,e.replaceChild(s,i)}}else 1===i.nodeType&&pe(i)}}}var fe=n(68),me=n.n(fe),be=function(e){return Object(oe.jsx)("div",{className:me.a.mathlinguaBlockCommentTopLevel,children:Object(oe.jsx)(de,{html:e.renderedHtml})})},ve=n(21),je=n.n(ve),xe=n(47),Oe=n.n(xe);function ge(e){return Object(oe.jsxs)("div",{className:Oe.a.errorMessage,children:[Object(oe.jsx)("span",{className:Oe.a.errorLabel,children:"ERROR:"})," ",e.message]})}var we=n(38),ye=n.n(we),ke=n(7),_e=n(9),Pe=function(e){var t=Object(a.useState)(!0),n=Object(b.a)(t,2),r=n[0],i=n[1];return Object(oe.jsxs)("div",{className:ye.a.mathlinguaTopLevel,children:[e.showCloseButton?Object(oe.jsx)("button",{className:ye.a.mathlinguaCloseButton,onClick:function(){e.onEntityClosed&&e.onEntityClosed(e.id)},children:Object(oe.jsx)(ke.a,{icon:_e.k})}):null,Object(oe.jsx)("button",{className:ye.a.mathlinguaFlipIcon,onClick:function(){i(!r)},children:"\u2022"}),r?Object(oe.jsx)(de,{onViewEntity:e.onViewEntity,html:e.renderedHtml}):Object(oe.jsx)(de,{onViewEntity:e.onViewEntity,html:e.rawHtml})]})},Ce=n(39),Ne=n.n(Ce),Ee=function(e){return Object(oe.jsx)("div",{className:Ne.a.entitiesPanel,style:e.entities.length>0?{display:"block"}:{display:"none"},children:Object(oe.jsxs)("div",{children:[Object(oe.jsx)("button",{className:Ne.a.closeAllButton,onClick:function(){e.onCloseAll&&e.onCloseAll()},children:Object(oe.jsx)(ke.a,{icon:_e.k})}),e.entities.map((function(t){return Object(oe.jsx)("span",{className:Ne.a.entitiesPanelItem,children:Object(oe.jsx)(Pe,{id:t.id,showCloseButton:!0,rawHtml:t.rawHtml,renderedHtml:t.renderedHtml,onViewEntity:e.onViewEntity,onEntityClosed:e.onEntityClosed})},t.id)}))]})})},Se=n(40),Te=n.n(Se),Ie=function(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],i=n[1],c=function(e){i(r.concat(e))},s=function(e){i(r.filter((function(t){return t.id!==e})))};return Object(oe.jsxs)("div",{className:Te.a.topLevelEntityGroup,children:[Object(oe.jsx)(Pe,{id:e.entity.id,rawHtml:e.entity.rawHtml,renderedHtml:e.entity.renderedHtml,showCloseButton:!1,onViewEntity:c,onEntityClosed:s}),r.length>0?Object(oe.jsx)("div",{className:Te.a.triangleBorder,children:Object(oe.jsx)("div",{className:Te.a.triangle})}):null,Object(oe.jsx)(Ee,{onViewEntity:c,onEntityClosed:s,entities:r,onCloseAll:function(){return i([])}})]})},De=function(){return Object(se.c)()},Le=se.d,Me=n(13),Ae=Object(Me.b)({name:"query",initialState:{query:""},reducers:{queryUpdated:function(e,t){e.query=t.payload}}}),Re=function(e){return e.query.query},Be=Ae.actions.queryUpdated,Ve=Ae.reducer,He={path:void 0},$e=Object(Me.b)({name:"viewedFile",initialState:He,reducers:{viewedPathUpdated:function(e,t){e.path=t.payload}}}),Fe=function(e){return e.viewedPath.path},Ue=$e.actions.viewedPathUpdated,We=$e.reducer,qe=n(69),Ge=n.n(qe),ze=n(70),Je=n.n(ze),Xe=n(48),Ze=(n(125),n(126),Object(Me.b)({name:"isEditMode",initialState:{isEditMode:!1},reducers:{isEditModeUpdated:function(e,t){e.isEditMode=t.payload}}})),Ke=function(e){return e.isEditMode.isEditMode},Qe=Ze.actions.isEditModeUpdated,Ye=Ze.reducer,et=Object(Me.b)({name:"errorResults",initialState:{errors:[]},reducers:{errorResultsUpdated:function(e,t){e.errors=t.payload}}}),tt=function(e){return e.errorResults.errors},nt=et.actions.errorResultsUpdated,at=et.reducer;function rt(){return window.screen.width<=500}var it={sidePanelVisible:!rt()},ct=Object(Me.b)({name:"sidePanelVisible",initialState:it,reducers:{sidePanelVisibilityChanged:function(e,t){e.sidePanelVisible=t.payload}}}),st=function(e){return e.sidePanelVisible.sidePanelVisible},ot=ct.actions.sidePanelVisibilityChanged,ut=ct.reducer,lt=[{name:"and",value:"and:"},{name:"collection",value:"collection:\nof:\nin?:\nforall:\nwhere:"},{name:"exists",value:"exists:\nwhere?:\nsuchThat:"},{name:"existsUnique",value:"existsUnique:\nwhere?:\nsuchThat:"},{name:"expands",value:"expands:\nas:"},{name:"forAll",value:"forAll:\nwhere?:\nsuchThat?:\nthen:"},{name:"from",value:"from:\nto:"},{name:"given",value:"given:\nwhere:\nall:\nsuchThat?:"},{name:"if",value:"if:\nthen:"},{name:"iff",value:"iff:\nthen:"},{name:"constant",value:"constant:"},{name:"constructor",value:"constructor:\nfrom:"},{name:"inductively",value:"inductively:\nfrom:"},{name:"mapping",value:"mapping:\nfrom:\nto:\nas:"},{name:"not",value:"not:"},{name:"or",value:"or:"},{name:"piecewise",value:"piecewise:"},{name:"Defines:collects",value:"Defines:\nrequiring?:\nwhen?:\nmeans?:\ncollects:\nviewing?:\nusing?:\nwritten:\ncalled:\nMetadata?:"},{name:"Defines:evaluated",value:"Defines:\nrequiring?:\nwhen?:\nmeans?:\nevaluated:\nviewing?:\nusing?:\nwritten:\ncalled:\nMetadata?:"},{name:"Defines:maps",value:"Defines:\nrequiring?:\nwhen?:\nmeans?:\nmaps:\nsatisfying?:\nviewing?:\nusing?:\nwritten:\ncalled:\nMetadata?:"},{name:"Defines:satisfying",value:"Defines:\nrequiring?:\nwhen?:\nmeans:\nsatisfying?:\nviewing?:\nusing?:\nwritten:\ncalled:\nMetadata?:"},{name:"Evaluates",value:"Evaluates:"},{name:"Foundation",value:"Foundation:\nMetadata?:"},{name:"States",value:"States:\nrequiring?:\nwhen?:\nthat:\nusing?:\nwritten:\ncalled:\nMetadata?:"},{name:"equality",value:"equality:\nbetween:\nprovided:"},{name:"membership",value:"membership:\nthrough:"},{name:"as",value:"as:\nvia:"},{name:"Resource",value:'Resource:\n. type?: ""\n. name?: ""\n. author?: ""\n. homepage?: ""\n. url?: ""\n. offset?: ""\nMetadata?:'},{name:"Axiom",value:"Axiom:\ngiven?:\nwhere?:\nif?:\niff?:\nthen:\nusing?:\nMetadata?:"},{name:"Conjecture",value:"Conjecture:\ngiven?:\nwhere?:\nif?:\niff?:\nthen:\nusing?:\nMetadata?:"},{name:"Theorem",value:"Theorem:\ngiven?:\nwhere?:\nif?:\niff?:\nthen:\nusing?:\nProof?:\nMetadata?:"},{name:"Topic",value:"Topic:\ncontent:\nMetadata?:"}],dt=null,ht=function(){var e=De(),t=Le(Fe)||"",n=Object(a.useState)(void 0),r=Object(b.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(""),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Le(Re),h=Object(a.useState)(!0),p=Object(b.a)(h,2),v=p[0],x=p[1],O=Object(a.useRef)(null),g=Object(a.useState)([]),w=Object(b.a)(g,2),y=w[0],k=w[1],_=Le(tt),P=Object(a.useState)(""),C=Object(b.a)(P,2),N=C[0],E=C[1],S=Le(Ke),T=Le(st),I=function(){var t=Object(m.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:n=t.sent,e(nt(n.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var n=""===t;M(t).then(function(){var t=Object(m.a)(f.a.mark((function t(a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n&&e(Ue(null===a||void 0===a?void 0:a.relativePath)),c(a),E(null!==(r=null===a||void 0===a?void 0:a.content)&&void 0!==r?r:""),t.next=5,I();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return l(e.message)})).finally((function(){return x(!1)}))}),[t]),Object(a.useEffect)((function(){k(_.filter((function(e){return e.relativePath===t})).map((function(e){return{row:e.row,column:e.column,text:e.message,type:"error"}})))}),[_]),Object(a.useEffect)((function(){if(O.current){var e=new j.a(O.current);e.unmark({done:function(){d.length>0&&e.mark(d,{caseSensitive:!1,separateWordSearch:!0})}})}}),[t,i,d]),Object(a.useEffect)((function(){Xe.setCompleters(),Xe.addCompleter({getCompletions:function(){var e=Object(m.a)(f.a.mark((function e(t,n,a,r,i){var c,s,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return",i(null,[]));case 2:for(c=a.column,s="\n",o=0;o<c-r.length;o++)s+=" ";return e.next=7,ie("\\".concat(r));case 7:u=e.sent.map((function(e){return{name:r+e,value:r+e}})),i(null,lt.concat(u).map((function(e){return{name:e.name.replace(/\\/,""),value:e.value.replace(/\\/,"").replace(/\n/g,s)}})));case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}()})}),[]);var D=Object(oe.jsx)("div",{className:je.a.mathlinguaPage,children:Object(oe.jsx)(ge,{message:u})});if(!i&&!v)return Object(oe.jsx)("div",{className:je.a.mathlinguaPage,children:Object(oe.jsx)(ge,{message:"Page Not Found"})});if(!i||0===i.entities.length&&0===i.errors.length)return null;var L=Object(oe.jsxs)("div",{children:[Object(oe.jsx)("div",{className:je.a.errorView,children:null===i||void 0===i?void 0:i.errors.map((function(e){return Object(oe.jsxs)("div",{className:je.a.errorItem,children:["ERROR (".concat(e.row+1,", ").concat(e.column+1,"):"),Object(oe.jsx)("pre",{children:e.message})]})}))}),null===i||void 0===i?void 0:i.entities.map((function(e){return Object(oe.jsx)("span",{children:"TopLevelBlockComment"===e.type?Object(oe.jsx)(be,{renderedHtml:e.renderedHtml,rawHtml:e.rawHtml}):Object(oe.jsx)(Ie,{entity:e})},e.id)}))]}),A=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(t),dt&&dt.cancel(),(dt=Ge()(Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(i.relativePath,t);case 2:return e.next=4,I();case 4:return e.next=6,M(i.relativePath);case 6:n=e.sent,c(n);case 8:case"end":return e.stop()}}),e)}))),500))();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=Object(oe.jsx)(Je.a,{mode:"yaml",theme:"eclipse",onChange:A,name:"ace-editor",editorProps:{$blockScrolling:!0},value:N,highlightActiveLine:!1,showPrintMargin:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,fontSize:"90%",style:{width:"100%",height:"100%",minHeight:"90vh"},annotations:y}),B=Object(oe.jsx)("div",{className:je.a.mathlinguaPage+" "+je.a.sideBySideView,children:Object(oe.jsxs)("div",{className:je.a.splitViewContainer,children:[Object(oe.jsx)("div",{className:je.a.splitViewEditor,children:R}),Object(oe.jsx)("div",{className:je.a.splitViewRendered,children:L})]})}),V=Object(oe.jsx)("div",{className:je.a.mathlinguaPage,children:L}),H=S?B:V;return Object(oe.jsx)("div",{ref:O,style:{transition:"0.2s",paddingLeft:S&&!rt()&&T?"15em":"0"},children:u?D:H})},pt=n(41),ft=n.n(pt),mt=n(76),bt=Object(Me.b)({name:"paths",initialState:{paths:[]},reducers:{pathsUpdated:function(e,t){t.payload?e.paths=Object(mt.a)(t.payload):e.paths=t.payload}}}),vt=function(e){return e.paths.paths},jt=bt.actions.pathsUpdated,xt=function(e){return function(){var t=Object(m.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:a=t.sent,n(jt(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ot=bt.reducer,gt=n(35),wt=n(10),yt=n.n(wt),kt=function e(t){var n=De(),r=Object(a.useState)(t.node.isDir&&"content"===t.node.name),i=Object(b.a)(r,2),c=i[0],s=i[1],o=Le(Fe)||"",u=Le(Ke),l=Le(tt),d=Object(a.useState)(""),h=Object(b.a)(d,2),p=h[0],v=h[1],j=Object(a.useState)(!1),x=Object(b.a)(j,2),O=x[0],w=x[1],y=Object(a.useState)(!1),k=Object(b.a)(y,2),_=k[0],P=k[1],C=function(){var e=Object(m.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n(jt(t)),e.next=6,U();case 6:a=e.sent,n(nt(a.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function e(t,n){if(t.isDir){var a,r=[],i=Object(g.a)(t.children);try{for(i.s();!(a=i.n()).done;){var c=a.value;r=r.concat(e(c,n))}}catch(s){i.e(s)}finally{i.f()}return r}return l.filter((function(e){return e.relativePath===t.path}))},E=function(e){var n=N(t.node,e);if(!u||0===n.length)return null;var a=1===n.length?" error":" errors";return Object(oe.jsxs)("span",{className:yt.a.errorStats,children:[" ","(",n.length," ",a,")"]})},S=t.node.name,T=S.indexOf("_");if(T>=0){var I=S.substring(0,T);I.length>0&&!isNaN(+I)&&(S=S.substring(T+1))}S=S.replace(".math","").replace("_"," ");var L=function(){var e=Object(m.a)(f.a.mark((function e(){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p&&(t.node.isDir||p.endsWith(".math"))){e.next=3;break}return alert("The new filename must be non-empty and end in .math but found '".concat(p,"'")),e.abrupt("return");case 3:if((n=t.node.path.split("/")).pop(),n.push(p),a=n.join("/"),!t.node.isDir){e.next=14;break}return e.next=10,K(t.node.path,a);case 10:return e.next=12,C();case 12:e.next=18;break;case 14:return e.next=16,Y(t.node.path,a);case 16:return e.next=18,C();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){e.preventDefault(),L()},A=function(){return u?Object(oe.jsxs)("span",{children:[Object(oe.jsx)("button",{className:yt.a.button,style:{display:"content"===t.node.path||O||_?"none":"inline"},onClick:function(){w(!0),P(!1)},children:Object(oe.jsx)(ke.a,{icon:_e.i})}),!t.node.isDir||O||_?null:Object(oe.jsx)("button",{className:yt.a.button,onClick:Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.node.path.split("/").concat("Untitled.math").join("/"),e.next=3,ae(n);case 3:return s(!0),e.next=6,C();case 6:case"end":return e.stop()}}),e)}))),children:Object(oe.jsx)(ke.a,{icon:_e.g})}),!t.node.isDir||O||_?null:Object(oe.jsx)("button",{className:yt.a.button,onClick:Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.node.path.split("/").concat("Untitled").join("/"),e.next=3,te(n);case 3:return s(!0),e.next=6,C();case 6:case"end":return e.stop()}}),e)}))),children:Object(oe.jsx)(ke.a,{icon:_e.h})}),Object(oe.jsx)("button",{className:yt.a.button,style:{display:O||_?"inline":"none"},onClick:Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=5;break}return e.next=3,L();case 3:e.next=16;break;case 5:if(!t.node.isDir){e.next=12;break}return e.next=8,z(t.node.path);case 8:return e.next=10,C();case 10:e.next=16;break;case 12:return e.next=14,X(t.node.path);case 14:return e.next=16,C();case 16:w(!1),P(!1);case 18:case"end":return e.stop()}}),e)}))),children:Object(oe.jsx)(ke.a,{icon:_e.d})}),Object(oe.jsx)("button",{className:yt.a.button,style:{display:O||_?"inline":"none"},onClick:function(){w(!1),P(!1)},children:Object(oe.jsx)(ke.a,{icon:_e.k})}),Object(oe.jsx)("button",{className:yt.a.button,style:{display:"content"===t.node.path||O||_?"none":"inline"},onClick:function(){P(!0),w(!1)},children:Object(oe.jsx)(ke.a,{icon:_e.l})})]}):null};return t.node.isDir?Object(oe.jsxs)("span",{children:[Object(oe.jsxs)("li",{className:yt.a.mathlinguaListDirItem+" "+yt.a.sidePanelItem,onClick:function(){return s(!c)},children:[c?Object(oe.jsx)("button",{className:yt.a.triangle,children:Object(oe.jsx)(ke.a,{icon:_e.b})}):Object(oe.jsx)("button",{className:yt.a.triangle,children:Object(oe.jsx)(ke.a,{icon:_e.c})}),O?Object(oe.jsxs)("form",{onSubmit:M,children:[Object(oe.jsx)("input",{className:yt.a.input,type:"text",placeholder:t.node.name,onChange:function(e){return v(e.target.value)}}),A()]}):Object(oe.jsxs)("span",{children:[S,E(l)]}),O?null:A()]}),c?Object(oe.jsx)("ul",{children:t.node.children.map((function(t){return Object(oe.jsx)(e,{node:t},t.name)}))}):null]}):Object(oe.jsxs)("li",{className:yt.a.mathlinguaListFileItem+" "+yt.a.sidePanelItem,children:[O?Object(oe.jsxs)("form",{onSubmit:M,children:[Object(oe.jsx)("input",{className:yt.a.input,type:"text",placeholder:t.node.name,onChange:function(e){return v(e.target.value)}}),A()]}):Object(oe.jsxs)(gt.b,{to:"/".concat(t.node.path),className:o===t.node.path?"".concat(yt.a.link," ").concat(yt.a.selected):yt.a.link,onClick:function(){rt()&&n(ot(!1)),n(Ue(t.node.path))},children:[S,E(l)]},t.node.name),O?null:A()]})},_t=function(){var e,t=De(),n=Le(st),r=Le(vt),i=Le(Ke),c=Object(a.useState)([]),s=Object(b.a)(c,2),o=s[0],u=s[1],l=Object(a.useState)(""),d=Object(b.a)(l,2),h=d[0],p=d[1],f=Object(a.useState)({name:"",isDir:!0,path:"",children:[]}),m=Object(b.a)(f,2),v=m[0],j=m[1];Object(a.useEffect)((function(){D().then((function(e){u(e),t(jt(e))})).catch((function(e){return p(e.message)}))}),[t]),Object(a.useEffect)((function(){j(function(e){var t,n={name:"",isDir:!0,path:"",children:[]},a=Object(g.a)(e);try{for(a.s();!(t=a.n()).done;){Pt(n,t.value)}}catch(r){a.e(r)}finally{a.f()}return n}(null!==r&&void 0!==r?r:o))}),[o,r]);var x=Object(oe.jsx)("div",{className:ft.a.sidePanel,children:Object(oe.jsx)(ge,{message:h})}),O=n?rt()?{width:"100%"}:{minWidth:"15em"}:{width:"0"},w=i?v:v.children[0],y=Object(oe.jsx)("div",{style:O,className:ft.a.sidePanel,children:Object(oe.jsx)("div",{className:ft.a.sidePanelContent,children:null===w||void 0===w||null===(e=w.children)||void 0===e?void 0:e.map((function(e){return Object(oe.jsx)(kt,{node:e},e.name)}))})});return h?x:y};function Pt(e,t){for(var n=t.split("/"),a=e,r=function(e){var t=n[e],r=a.children.find((function(e){return e.name===t}));if(r)a=r;else{var i=e!==n.length-1,c={name:t,isDir:i,path:n.slice(0,e+1).join("/"),children:[]};a.children.push(c),a=c}},i=0;i<n.length;i++)r(i)}var Ct=n(71),Nt=n.n(Ct),Et=n(72),St=n.n(Et),Tt=function(){var e=Le(st),t=De();return Object(oe.jsx)("button",{className:St.a.sidePanelButton,onClick:function(){t(ot(!e))},children:Object(oe.jsx)(ke.a,{icon:_e.a})})},It=n(24),Dt=n.n(It),Lt=function(){var e=Object(se.c)(),t=Object(a.useRef)(null),n=Object(a.useState)(""),r=Object(b.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)("none"),o=Object(b.a)(s,2),u=o[0],l=o[1],d=Object(a.useState)([]),h=Object(b.a)(d,2),p=h[0],v=h[1],j=Object(a.useState)(-1),x=Object(b.a)(j,2),O=x[0],g=x[1];function w(e){if(!e)return e;var t=e.split(" ").filter((function(e){return e.length>0}));return t[t.length-1]}function y(e){l(e?"block":"none")}function k(){return(k=Object(m.a)(f.a.mark((function e(t){var n,a,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value||"",a=w(n),e.prev=2,e.next=5,V(a);case 5:r=e.sent,v(r.map((function(e){return{complete:a+e,suffix:e}}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),i="ERROR: ".concat(e.t0.message),v([{complete:i,suffix:i}]);case 13:y(!0),c(n);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(xt(n)),y(!1),e(Be(n)),e(ot(!0));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(e){var t=i.toLowerCase()+e.toLowerCase();return c(t),y(!1),t}function N(){return(N=Object(m.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Escape"!==t.key){e.next=5;break}return y(!1),e.abrupt("return");case 5:if("Enter"!==t.key){e.next=19;break}if(t.preventDefault(),"none"===u){e.next=15;break}return n=p[O],a=i,n&&(a=C(n.suffix)),e.next=13,_(a);case 13:e.next=17;break;case 15:return e.next=17,_(i);case 17:e.next=31;break;case 19:if("ArrowDown"!==t.key){e.next=26;break}return t.preventDefault(),y(!0),g(Math.min(O+1,p.length-1)),e.abrupt("return");case 26:if("ArrowUp"!==t.key){e.next=31;break}return t.preventDefault(),y(!0),g(Math.max(O-1,0)),e.abrupt("return");case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){document.addEventListener("click",(function(e){t.current&&!t.current.contains(e.target)&&y(!1)}))}),[]),Object(oe.jsxs)("span",{className:Dt.a.searchArea,children:[Object(oe.jsx)("input",{type:"text",id:"search-input",className:Dt.a.search,"aria-label":"search",value:i,onChange:function(e){return k.apply(this,arguments)},onKeyUp:function(e){return N.apply(this,arguments)}}),Object(oe.jsx)("button",{type:"button",className:Dt.a.searchButton,onClick:function(){return _(i)},children:Object(oe.jsx)(ke.a,{icon:_e.j})}),Object(oe.jsx)("button",{type:"button",className:Dt.a.clearButton,onClick:function(){c(""),y(!1),e(jt(void 0)),e(Be("")),e(ot(!0))},children:Object(oe.jsx)(ke.a,{icon:_e.k})}),Object(oe.jsx)("div",{ref:t,className:Dt.a.searchDropdown,style:{display:u},children:p.map((function(e,t){return Object(oe.jsx)("div",{onClick:function(){return _(C(e.suffix))},className:t===O?Dt.a.searchDropdownItemSelected:Dt.a.searchDropdownItem,children:Object(oe.jsx)("div",{children:e.complete.toLowerCase()})},e.complete.toLowerCase())}))})]})},Mt=n(73),At=n.n(Mt),Rt=n(74),Bt=function(){return Object(oe.jsx)("a",{href:"https://github.com/DominicKramer/codex",children:Object(oe.jsx)(ke.a,{className:At.a.githubIcon,icon:Rt.a})})},Vt=n(75),Ht=n.n(Vt),$t=function(){var e=De(),t=Le(Ke);return Object(oe.jsx)("button",{className:Ht.a.editModeButton,onClick:Object(m.a)(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(Qe(!t)),n.next=4,U();case 4:a=n.sent,e(nt(a.errors.map((function(e){return{row:e.row,column:e.column,message:e.message,relativePath:e.path}}))));case 6:case"end":return n.stop()}}),n)}))),children:t?Object(oe.jsx)(ke.a,{icon:_e.f}):Object(oe.jsx)(ke.a,{icon:_e.e})})},Ft=function(){return Object(oe.jsxs)("div",{className:Nt.a.topbar,children:[Object(oe.jsx)(Tt,{}),Object(oe.jsx)(Lt,{}),I()?null:Object(oe.jsx)($t,{}),Object(oe.jsx)(Bt,{})]})},Ut=n(8),Wt=function(){return I()?Object(oe.jsx)(Ut.c,{children:Object(oe.jsxs)(qt,{children:[Object(oe.jsx)(Ft,{}),Object(oe.jsx)(_t,{}),Object(oe.jsx)("div",{className:h.a.contentPanel,children:Object(oe.jsx)(Ut.d,{children:Object(oe.jsx)(Ut.a,{path:"/*",children:Object(oe.jsx)(ht,{})})})})]})}):Object(oe.jsx)(gt.a,{children:Object(oe.jsxs)(qt,{children:[Object(oe.jsx)(Ft,{}),Object(oe.jsx)(_t,{}),Object(oe.jsx)("div",{className:h.a.contentPanel,children:Object(oe.jsx)(Ut.d,{children:Object(oe.jsx)(Ut.a,{path:"/*",children:Object(oe.jsx)(ht,{})})})})]})})},qt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={hasError:!1},a}return Object(o.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(oe.jsxs)("p",{children:["An error occurred connecting to the MathLingua server. Are you running"," ",Object(oe.jsx)("code",{children:"mlg serve"}),"?"]}):this.props.children}}]),n}(r.a.Component),Gt=n(29),zt=Object(Me.a)({reducer:{sidePanelVisible:ut,paths:Ot,viewedPath:We,query:Ve,isEditMode:Ye,errorResults:at},middleware:[Gt.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(oe.jsx)(r.a.StrictMode,{children:Object(oe.jsx)(se.a,{store:zt,children:Object(oe.jsx)(Wt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,n){e.exports={mathlinguaPage:"Page_mathlinguaPage__316SN",sideBySideView:"Page_sideBySideView__1vfKe",splitViewContainer:"Page_splitViewContainer__AmcsB",splitViewEditor:"Page_splitViewEditor__1ChPy",splitViewRendered:"Page_splitViewRendered__2BcuO",errorView:"Page_errorView__1w9pu",errorItem:"Page_errorItem__2mYLP"}},24:function(e,t,n){e.exports={searchArea:"SearchPanel_searchArea__3eH01",search:"SearchPanel_search__2HQuA",searchDropdown:"SearchPanel_searchDropdown__24NWE",searchDropdownItem:"SearchPanel_searchDropdownItem__3wg4x",searchDropdownItemSelected:"SearchPanel_searchDropdownItemSelected__20Nxq",searchButton:"SearchPanel_searchButton__2WliP",clearButton:"SearchPanel_clearButton___bhw7"}},38:function(e,t,n){e.exports={mathlinguaTopLevel:"TopLevelEntry_mathlinguaTopLevel__tOe0D",mathlinguaFlipIcon:"TopLevelEntry_mathlinguaFlipIcon__-3nJ2",mathlinguaCloseButton:"TopLevelEntry_mathlinguaCloseButton__o8PUx"}},39:function(e,t,n){e.exports={entitiesPanel:"EntitiesPanel_entitiesPanel__1Sx74",entitiesPanelItem:"EntitiesPanel_entitiesPanelItem__1Xi0s",closeAllButton:"EntitiesPanel_closeAllButton__1uj94"}},40:function(e,t,n){e.exports={topLevelEntityGroup:"TopLevelEntityGroup_topLevelEntityGroup__MMFuW",triangle:"TopLevelEntityGroup_triangle__7AIJb",triangleBorder:"TopLevelEntityGroup_triangleBorder__2sXGm"}},41:function(e,t,n){e.exports={sidePanel:"SidePanel_sidePanel__2wshc",sidePanelContent:"SidePanel_sidePanelContent__1LQuN",sidePanelItem:"SidePanel_sidePanelItem__2Uvvj",selected:"SidePanel_selected__3iDL5",mathlinguaHomeItem:"SidePanel_mathlinguaHomeItem__2WfpH",mathlinguaListDirItem:"SidePanel_mathlinguaListDirItem__35D6Z",mathlinguaListFileItem:"SidePanel_mathlinguaListFileItem__fS2vD"}},45:function(e,t,n){e.exports={contentPanel:"App_contentPanel__1ZGS7"}},47:function(e,t,n){e.exports={errorLabel:"ErrorView_errorLabel__2AXEh",errorMessage:"ErrorView_errorMessage__2gtow"}},68:function(e,t,n){e.exports={mathlinguaBlockCommentTopLevel:"BlockComment_mathlinguaBlockCommentTopLevel__dhGBJ"}},71:function(e,t,n){e.exports={topbar:"TopBar_topbar__2sxmu"}},72:function(e,t,n){e.exports={sidePanelButton:"SidePanelButton_sidePanelButton__u4HAg"}},73:function(e,t,n){e.exports={githubIcon:"GitHubIcon_githubIcon__20bvO"}},75:function(e,t,n){e.exports={editModeButton:"EditModeButton_editModeButton__1Orbv"}},81:function(e,t,n){},96:function(e,t,n){}},[[128,1,2]]]);
//# sourceMappingURL=main.937f3445.chunk.js.map